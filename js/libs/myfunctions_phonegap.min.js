function gallerie_pause(){$("#s1").cycle("toggle");current_src=document.getElementById("pausebutton").src.substr(document.getElementById("pausebutton").src.lastIndexOf("/")+1);if(current_src=="pause.png"){document.getElementById("pausebutton").src="themes/images/play.png"}else{document.getElementById("pausebutton").src="themes/images/pause.png"}}function onDeviceReady(){try{pushNotification=window.plugins.pushNotification;if(device.platform=="android"||device.platform=="Android"){pushNotification.register(successHandler,errorHandler,{senderID:"855034647454",ecb:"onNotificationGCM"})}else{pushNotification.register(tokenHandler,errorHandler,{badge:"true",sound:"true",alert:"true",ecb:"onNotificationAPN"})}}catch(e){txt="There was an error on this page.\n\n";txt+="Error description: "+e.message+"\n\n";alert(txt)}}function onDeviceResume(){window.location.reload()}function onNotificationAPN(e){if(e.alert){navigator.notification.alert(e.alert)}if(e.sound){var t=new Media(e.sound);t.play()}if(e.badge){pushNotification.setApplicationIconBadgeNumber(successHandler,e.badge)}}function onNotificationGCM(e){switch(e.event){case"registered":if(e.regid.length>0){console.log("regID = "+e.regid);reg_id_submit(e.regid)}break;case"message":if(e.foreground){$("#app-status-ul").append("<li>--"+e.payload.message+"</li>");var t=new Media("/android_asset/www/"+e.soundname);t.play()}break;case"error":$("#app-status-ul").append("<li>ERROR -> MSG:"+e.msg+"</li>");break;default:$("#app-status-ul").append("<li>EVENT -> Unknown, an event was received and we do not know what it is</li>");break}}function tokenHandler(e){$("#app-status-ul").append("<li>token: "+e+"</li>")}function successHandler(e){}function errorHandler(e){$("#app-status-ul").append("<li>error:"+e+"</li>")}function reg_id_submit(e){console.log(url_push_save_reg_id);console.log(e);$.ajax({type:"GET",url:url_push_save_reg_id,contentType:"application/json",dataType:"jsonp",data:{reg_id:e,secretkey:"0"},crossDomain:true,beforeSend:function(){},success:function(t){console.log(url_push_save_reg_id);console.log(e);return false},error:function(e){console.log("Fehler")},complete:function(e){}})}var pushNotification;document.addEventListener("deviceready",onDeviceReady,false);document.addEventListener("resume",onDeviceResume,false)